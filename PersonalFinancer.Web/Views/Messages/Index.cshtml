@using Newtonsoft.Json;
@using PersonalFinancer.Common.Constants;
@using PersonalFinancer.Web.Models.Message;
@{
	ViewData["Title"] = "Messages";
}

<partial name="_MessagesTablePartial" />

@section Scripts {
	<script src="~/js/hubs/allMessagesHub.js"></script>
	<script>
		let params = {
			url: '@UrlPathConstants.ApiAllMessagesEndpoint',
			body: {
				search: @Html.Raw(JsonConvert.SerializeObject(ViewBag.Search))
			}
		};
	</script>
	<script src="~/js/pagination.js"></script>
	<script src="~/js/renderMessages.js"></script>
}