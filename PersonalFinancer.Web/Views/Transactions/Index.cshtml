@using PersonalFinancer.Web.Models.Transaction;
@using static PersonalFinancer.Common.Constants.UrlPathConstants;
@model UserTransactionsViewModel
@{
	ViewData["Title"] = "Transactions";
}

<partial name="_TransactionsPagePartial" model="Model" />

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
	<script>
		let params = {
			url: '@ApiTransactionsEndpoint',
			transactionEndpoint: '@ApiTransactionsEndpoint',
			editTransactionPath: '@TransactionEditPath',
			body: {
				id: '@Model.UserId',
				fromLocalTime: '@Model.FromLocalTime.ToString("yyyy-MM-ddTHH:mm")',
				toLocalTime: '@Model.ToLocalTime.AddMinutes(1).ToString("yyyy-MM-ddTHH:mm")',
				accountId: '@Model.AccountId',
				accountTypeId: '@Model.AccountTypeId',
				currencyId: '@Model.CurrencyId',
				categoryId: '@Model.CategoryId',
			}
		}
	</script>
	<script src="~/js/renderTransactions.js"></script>
	<script src="~/js/pagination.js"></script>
	<script src="~/js/transactionModal.js"></script>
}